import{o as et,d as nt,s as ot,f as it,a as st,c as rt}from"./floating-ui-core-BPTJ7sdt.js";import{o as V,p as y,q as R,s as E,t as X,u as x,r as K,v as b,w as C,x as A,y as P,z as D,A as M,B as _,C as q,D as I,E as T,m as $,F as W,G as H,H as ct,I as Y,J as lt}from"./floating-ui-utils-BQHEjuzw.js";function j(t){const e=x(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=C(t),c=i?t.offsetWidth:n,s=i?t.offsetHeight:o,r=A(n)!==c||A(o)!==s;return r&&(n=c,o=s),{width:n,height:o,$:r}}function k(t){return y(t)?t:t.contextElement}function F(t){const e=k(t);if(!C(e))return R(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:c}=j(e);let s=(c?A(n.width):n.width)/o,r=(c?A(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!r||!Number.isFinite(r))&&(r=1),{x:s,y:r}}const ft=R(0);function Q(t){const e=E(t);return!P()||!e.visualViewport?ft:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ut(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==E(t)?!1:e}function L(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),c=k(t);let s=R(1);e&&(o?y(o)&&(s=F(o)):s=F(t));const r=ut(c,n,o)?Q(c):R(0);let f=(i.left+r.x)/s.x,l=(i.top+r.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(c){const p=E(c),a=o&&y(o)?E(o):o;let v=p,d=X(v);for(;d&&o&&a!==v;){const w=F(d),g=d.getBoundingClientRect(),m=x(d),O=g.left+(d.clientLeft+parseFloat(m.paddingLeft))*w.x,B=g.top+(d.clientTop+parseFloat(m.paddingTop))*w.y;f*=w.x,l*=w.y,u*=w.x,h*=w.y,f+=O,l+=B,v=E(d),d=X(v)}}return K({width:u,height:h,x:f,y:l})}function at(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const c=i==="fixed",s=b(o),r=e?M(e.floating):!1;if(o===s||r&&c)return n;let f={scrollLeft:0,scrollTop:0},l=R(1);const u=R(0),h=C(o);if((h||!h&&!c)&&((_(o)!=="body"||q(s))&&(f=I(o)),C(o))){const p=L(o);l=F(o),u.x=p.x+o.clientLeft,u.y=p.y+o.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-f.scrollLeft*l.x+u.x,y:n.y*l.y-f.scrollTop*l.y+u.y}}function ht(t){return Array.from(t.getClientRects())}function S(t,e){const n=I(t).scrollLeft;return e?e.left+n:L(b(t)).left+n}function dt(t){const e=b(t),n=I(t),o=t.ownerDocument.body,i=T(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),c=T(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+S(t);const r=-n.scrollTop;return x(o).direction==="rtl"&&(s+=T(e.clientWidth,o.clientWidth)-i),{width:i,height:c,x:s,y:r}}function gt(t,e){const n=E(t),o=b(t),i=n.visualViewport;let c=o.clientWidth,s=o.clientHeight,r=0,f=0;if(i){c=i.width,s=i.height;const l=P();(!l||l&&e==="fixed")&&(r=i.offsetLeft,f=i.offsetTop)}return{width:c,height:s,x:r,y:f}}function pt(t,e){const n=L(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,c=C(t)?F(t):R(1),s=t.clientWidth*c.x,r=t.clientHeight*c.y,f=i*c.x,l=o*c.y;return{width:s,height:r,x:f,y:l}}function G(t,e,n){let o;if(e==="viewport")o=gt(t,n);else if(e==="document")o=dt(b(t));else if(y(e))o=pt(e,n);else{const i=Q(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return K(o)}function Z(t,e){const n=W(t);return n===e||!y(n)||H(n)?!1:x(n).position==="fixed"||Z(n,e)}function wt(t,e){const n=e.get(t);if(n)return n;let o=V(t,[],!1).filter(r=>y(r)&&_(r)!=="body"),i=null;const c=x(t).position==="fixed";let s=c?W(t):t;for(;y(s)&&!H(s);){const r=x(s),f=Y(s);!f&&r.position==="fixed"&&(i=null),(c?!f&&!i:!f&&r.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||q(s)&&!f&&Z(t,s))?o=o.filter(u=>u!==s):i=r,s=W(s)}return e.set(t,o),o}function mt(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const s=[...n==="clippingAncestors"?M(e)?[]:wt(e,this._c):[].concat(n),o],r=s[0],f=s.reduce((l,u)=>{const h=G(e,u,i);return l.top=T(h.top,l.top),l.right=$(h.right,l.right),l.bottom=$(h.bottom,l.bottom),l.left=T(h.left,l.left),l},G(e,r,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function vt(t){const{width:e,height:n}=j(t);return{width:e,height:n}}function yt(t,e,n){const o=C(e),i=b(e),c=n==="fixed",s=L(t,!0,c,e);let r={scrollLeft:0,scrollTop:0};const f=R(0);if(o||!o&&!c)if((_(e)!=="body"||q(i))&&(r=I(e)),o){const a=L(e,!0,c,e);f.x=a.x+e.clientLeft,f.y=a.y+e.clientTop}else i&&(f.x=S(i));let l=0,u=0;if(i&&!o&&!c){const a=i.getBoundingClientRect();u=a.top+r.scrollTop,l=a.left+r.scrollLeft-S(i,a)}const h=s.left+r.scrollLeft-f.x-l,p=s.top+r.scrollTop-f.y-u;return{x:h,y:p,width:s.width,height:s.height}}function z(t){return x(t).position==="static"}function J(t,e){if(!C(t)||x(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return b(t)===n&&(n=n.ownerDocument.body),n}function tt(t,e){const n=E(t);if(M(t))return n;if(!C(t)){let i=W(t);for(;i&&!H(i);){if(y(i)&&!z(i))return i;i=W(i)}return n}let o=J(t,e);for(;o&&ct(o)&&z(o);)o=J(o,e);return o&&H(o)&&z(o)&&!Y(o)?n:o||lt(t)||n}const xt=async function(t){const e=this.getOffsetParent||tt,n=this.getDimensions,o=await n(t.floating);return{reference:yt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function bt(t){return x(t).direction==="rtl"}const Rt={convertOffsetParentRelativeRectToViewportRelativeRect:at,getDocumentElement:b,getClippingRect:mt,getOffsetParent:tt,getElementRects:xt,getClientRects:ht,getDimensions:vt,getScale:F,isElement:y,isRTL:bt};function Ct(t,e){let n=null,o;const i=b(t);function c(){var r;clearTimeout(o),(r=n)==null||r.disconnect(),n=null}function s(r,f){r===void 0&&(r=!1),f===void 0&&(f=1),c();const{left:l,top:u,width:h,height:p}=t.getBoundingClientRect();if(r||e(),!h||!p)return;const a=D(u),v=D(i.clientWidth-(l+h)),d=D(i.clientHeight-(u+p)),w=D(l),m={rootMargin:-a+"px "+-v+"px "+-d+"px "+-w+"px",threshold:T(0,$(1,f))||1};let O=!0;function B(U){const N=U[0].intersectionRatio;if(N!==f){if(!O)return s();N?s(!1,N):o=setTimeout(()=>{s(!1,1e-7)},1e3)}O=!1}try{n=new IntersectionObserver(B,{...m,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,m)}n.observe(t)}return s(!0),c}function Lt(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,l=k(t),u=i||c?[...l?V(l):[],...V(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),c&&g.addEventListener("resize",n)});const h=l&&r?Ct(l,n):null;let p=-1,a=null;s&&(a=new ResizeObserver(g=>{let[m]=g;m&&m.target===l&&a&&(a.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var O;(O=a)==null||O.observe(e)})),n()}),l&&!f&&a.observe(l),a.observe(e));let v,d=f?L(t):null;f&&w();function w(){const g=L(t);d&&(g.x!==d.x||g.y!==d.y||g.width!==d.width||g.height!==d.height)&&n(),d=g,v=requestAnimationFrame(w)}return n(),()=>{var g;u.forEach(m=>{i&&m.removeEventListener("scroll",n),c&&m.removeEventListener("resize",n)}),h==null||h(),(g=a)==null||g.disconnect(),a=null,f&&cancelAnimationFrame(v)}}const Tt=nt,Ft=et,Wt=ot,Bt=it,Dt=st,At=(t,e,n)=>{const o=new Map,i={platform:Rt,...n},c={...i.platform,_c:o};return rt(t,e,{...i,platform:c})};export{Dt as a,Lt as b,At as c,Tt as d,Bt as f,Ft as o,Wt as s};
