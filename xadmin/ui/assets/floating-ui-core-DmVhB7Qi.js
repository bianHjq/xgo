import{e as Y,g as F,a as $,c as H,b as T,d as X,f as _,h as z,m as M}from"./floating-ui-utils-DvO1nFn_.js";function S(i,s,f){let{reference:e,floating:a}=i;const l=_(s),n=$(s),d=z(n),g=X(s),r=l==="y",x=e.x+e.width/2-a.width/2,o=e.y+e.height/2-a.height/2,m=e[d]/2-a[d]/2;let t;switch(g){case"top":t={x,y:e.y-a.height};break;case"bottom":t={x,y:e.y+e.height};break;case"right":t={x:e.x+e.width,y:o};break;case"left":t={x:e.x-a.width,y:o};break;default:t={x:e.x,y:e.y}}switch(T(s)){case"start":t[n]-=m*(f&&r?-1:1);break;case"end":t[n]+=m*(f&&r?-1:1);break}return t}const G=async(i,s,f)=>{const{placement:e="bottom",strategy:a="absolute",middleware:l=[],platform:n}=f,d=l.filter(Boolean),g=await(n.isRTL==null?void 0:n.isRTL(s));let r=await n.getElementRects({reference:i,floating:s,strategy:a}),{x,y:o}=S(r,e,g),m=e,t={},c=0;for(let u=0;u<d.length;u++){const{name:h,fn:v}=d[u],{x:b,y:p,data:D,reset:w}=await v({x,y:o,initialPlacement:e,placement:m,strategy:a,middlewareData:t,rects:r,platform:n,elements:{reference:i,floating:s}});x=b??x,o=p??o,t={...t,[h]:{...t[h],...D}},w&&c<=50&&(c++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(r=w.rects===!0?await n.getElementRects({reference:i,floating:s,strategy:a}):w.rects),{x,y:o}=S(r,m,g)),u=-1)}return{x,y:o,placement:m,strategy:a,middlewareData:t}},I=i=>({name:"arrow",options:i,async fn(s){const{x:f,y:e,placement:a,rects:l,platform:n,elements:d,middlewareData:g}=s,{element:r,padding:x=0}=Y(i,s)||{};if(r==null)return{};const o=F(x),m={x:f,y:e},t=$(a),c=z(t),u=await n.getDimensions(r),h=t==="y",v=h?"top":"left",b=h?"bottom":"right",p=h?"clientHeight":"clientWidth",D=l.reference[c]+l.reference[t]-m[t]-l.floating[c],w=m[t]-l.reference[t],O=await(n.getOffsetParent==null?void 0:n.getOffsetParent(r));let A=O?O[p]:0;(!A||!await(n.isElement==null?void 0:n.isElement(O)))&&(A=d.floating[p]||l.floating[c]);const B=D/2-w/2,C=A/2-u[c]/2-1,E=M(o[v],C),V=M(o[b],C),P=E,j=A-u[c]-V,y=A/2-u[c]/2+B,R=H(P,y,j),k=!g.arrow&&T(a)!=null&&y!==R&&l.reference[c]/2-(y<P?E:V)-u[c]/2<0,L=k?y<P?y-P:y-j:0;return{[t]:m[t]+L,data:{[t]:R,centerOffset:y-R-L,...k&&{alignmentOffset:L}},reset:k}}});async function W(i,s){const{placement:f,platform:e,elements:a}=i,l=await(e.isRTL==null?void 0:e.isRTL(a.floating)),n=X(f),d=T(f),g=_(f)==="y",r=["left","top"].includes(n)?-1:1,x=l&&g?-1:1,o=Y(s,i);let{mainAxis:m,crossAxis:t,alignmentAxis:c}=typeof o=="number"?{mainAxis:o,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...o};return d&&typeof c=="number"&&(t=d==="end"?c*-1:c),g?{x:t*x,y:m*r}:{x:m*r,y:t*x}}const J=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(s){var f,e;const{x:a,y:l,placement:n,middlewareData:d}=s,g=await W(s,i);return n===((f=d.offset)==null?void 0:f.placement)&&(e=d.arrow)!=null&&e.alignmentOffset?{}:{x:a+g.x,y:l+g.y,data:{...g,placement:n}}}}};export{I as a,G as c,J as o};
