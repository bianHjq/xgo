import{o as U,a as Y,c as Z}from"./floating-ui-core-DmVhB7Qi.js";import{i as y,j as a,k as p,l as w,r as O,n as D,o as F,p as N,q as W,s as v,m as A,t as x,u as T,v as E,w as tt,x as S,y as et,z as g,A as k,B as M,C as it,D as _}from"./floating-ui-utils-DvO1nFn_.js";function j(t){const e=g(t);let o=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=p(t),r=n?t.offsetWidth:o,s=n?t.offsetHeight:i,c=O(o)!==r||O(i)!==s;return c&&(o=r,i=s),{width:o,height:i,$:c}}function q(t){return a(t)?t:t.contextElement}function C(t){const e=q(t);if(!p(e))return w(1);const o=e.getBoundingClientRect(),{width:i,height:n,$:r}=j(e);let s=(r?O(o.width):o.width)/i,c=(r?O(o.height):o.height)/n;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const ot=w(0);function z(t){const e=x(t);return!_()||!e.visualViewport?ot:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nt(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==x(t)?!1:e}function R(t,e,o,i){e===void 0&&(e=!1),o===void 0&&(o=!1);const n=t.getBoundingClientRect(),r=q(t);let s=w(1);e&&(i?a(i)&&(s=C(i)):s=C(t));const c=nt(r,o,i)?z(r):w(0);let l=(n.left+c.x)/s.x,f=(n.top+c.y)/s.y,u=n.width/s.x,h=n.height/s.y;if(r){const L=x(r),J=i&&a(i)?x(i):i;let b=L,d=k(b);for(;d&&i&&J!==b;){const m=C(d),V=d.getBoundingClientRect(),H=g(d),P=V.left+(d.clientLeft+parseFloat(H.paddingLeft))*m.x,Q=V.top+(d.clientTop+parseFloat(H.paddingTop))*m.y;l*=m.x,f*=m.y,u*=m.x,h*=m.y,l+=P,f+=Q,b=x(d),d=k(b)}}return M({width:u,height:h,x:l,y:f})}function st(t){let{elements:e,rect:o,offsetParent:i,strategy:n}=t;const r=n==="fixed",s=y(i),c=e?D(e.floating):!1;if(i===s||c&&r)return o;let l={scrollLeft:0,scrollTop:0},f=w(1);const u=w(0),h=p(i);if((h||!h&&!r)&&((F(i)!=="body"||N(s))&&(l=W(i)),p(i))){const L=R(i);f=C(i),u.x=L.x+i.clientLeft,u.y=L.y+i.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+u.x,y:o.y*f.y-l.scrollTop*f.y+u.y}}function rt(t){return Array.from(t.getClientRects())}function K(t){return R(y(t)).left+W(t).scrollLeft}function ct(t){const e=y(t),o=W(t),i=t.ownerDocument.body,n=v(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=v(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-o.scrollLeft+K(t);const c=-o.scrollTop;return g(i).direction==="rtl"&&(s+=v(e.clientWidth,i.clientWidth)-n),{width:n,height:r,x:s,y:c}}function lt(t,e){const o=x(t),i=y(t),n=o.visualViewport;let r=i.clientWidth,s=i.clientHeight,c=0,l=0;if(n){r=n.width,s=n.height;const f=_();(!f||f&&e==="fixed")&&(c=n.offsetLeft,l=n.offsetTop)}return{width:r,height:s,x:c,y:l}}function ft(t,e){const o=R(t,!0,e==="fixed"),i=o.top+t.clientTop,n=o.left+t.clientLeft,r=p(t)?C(t):w(1),s=t.clientWidth*r.x,c=t.clientHeight*r.y,l=n*r.x,f=i*r.y;return{width:s,height:c,x:l,y:f}}function $(t,e,o){let i;if(e==="viewport")i=lt(t,o);else if(e==="document")i=ct(y(t));else if(a(e))i=ft(e,o);else{const n=z(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return M(i)}function X(t,e){const o=T(t);return o===e||!a(o)||E(o)?!1:g(o).position==="fixed"||X(o,e)}function ut(t,e){const o=e.get(t);if(o)return o;let i=it(t,[],!1).filter(c=>a(c)&&F(c)!=="body"),n=null;const r=g(t).position==="fixed";let s=r?T(t):t;for(;a(s)&&!E(s);){const c=g(s),l=S(s);!l&&c.position==="fixed"&&(n=null),(r?!l&&!n:!l&&c.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||N(s)&&!l&&X(t,s))?i=i.filter(u=>u!==s):n=c,s=T(s)}return e.set(t,i),i}function ht(t){let{element:e,boundary:o,rootBoundary:i,strategy:n}=t;const s=[...o==="clippingAncestors"?D(e)?[]:ut(e,this._c):[].concat(o),i],c=s[0],l=s.reduce((f,u)=>{const h=$(e,u,n);return f.top=v(h.top,f.top),f.right=A(h.right,f.right),f.bottom=A(h.bottom,f.bottom),f.left=v(h.left,f.left),f},$(e,c,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function at(t){const{width:e,height:o}=j(t);return{width:e,height:o}}function gt(t,e,o){const i=p(e),n=y(e),r=o==="fixed",s=R(t,!0,r,e);let c={scrollLeft:0,scrollTop:0};const l=w(0);if(i||!i&&!r)if((F(e)!=="body"||N(n))&&(c=W(e)),i){const h=R(e,!0,r,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else n&&(l.x=K(n));const f=s.left+c.scrollLeft-l.x,u=s.top+c.scrollTop-l.y;return{x:f,y:u,width:s.width,height:s.height}}function B(t){return g(t).position==="static"}function I(t,e){return!p(t)||g(t).position==="fixed"?null:e?e(t):t.offsetParent}function G(t,e){const o=x(t);if(D(t))return o;if(!p(t)){let n=T(t);for(;n&&!E(n);){if(a(n)&&!B(n))return n;n=T(n)}return o}let i=I(t,e);for(;i&&tt(i)&&B(i);)i=I(i,e);return i&&E(i)&&B(i)&&!S(i)?o:i||et(t)||o}const dt=async function(t){const e=this.getOffsetParent||G,o=this.getDimensions,i=await o(t.floating);return{reference:gt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function pt(t){return g(t).direction==="rtl"}const wt={convertOffsetParentRelativeRectToViewportRelativeRect:st,getDocumentElement:y,getClippingRect:ht,getOffsetParent:G,getElementRects:dt,getClientRects:rt,getDimensions:at,getScale:C,isElement:a,isRTL:pt},mt=U,Ct=Y,vt=(t,e,o)=>{const i=new Map,n={platform:wt,...o},r={...n.platform,_c:i};return Z(t,e,{...n,platform:r})};export{Ct as a,vt as c,mt as o};
